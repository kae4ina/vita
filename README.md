 # üìù–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ DevOps 
## –ó–∞–¥–∞–Ω–∏–µ 1. ansible playbook
### 1) –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É —Å —Ñ–∞–π–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ö–æ—Å—Ç—ã

``` bash
mkdir files
cd files
touch files{1,2,3}
```
### 2) –ó–∞–ø—É—Å–∫–∞–µ–º playbook
``` bash
ansible-playbook playbook.yaml
```
<img width="1227" height="361" alt="image" src="https://github.com/user-attachments/assets/a2657175-082e-4da5-a1be-b5954c11dc0b" />


### 3) –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª, –∏ –≤ —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ with_items –æ—Ç loop, –∑–∞–ø—É—Å—Ç–∏–ª –∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ?
–†–∞–±–æ—Ç–∞–ª–∞ —Å loops. –û—Ç–ª–∏—á–∏–µ loops –æ—Ç with_items –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–ª–æ–≤–∞—Ä–µ–π. With_items –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å, –∞ loop ‚Äì –Ω–µ—Ç, —ç—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —è–≤–Ω–æ, —á—Ç–æ–±—ã loop —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è. –ß—Ç–æ–±—ã –ø–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞—Ç—å –≤ —á–µ–º –ø—Ä–æ–±–ª–µ–º–∞, –º–æ–∂–Ω–æ 
–≤–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ 
```
ansible-playbook playbook.yml -v
ansible-playbook playbook.yml -vvv
```
–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å 
```
ansible-playbook playbook.yml --syntax-check
```
–ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞—Å–∫—É –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

## –ó–∞–¥–∞–Ω–∏–µ 2. Bash —Å–∫—Ä–∏–ø—Ç
–°–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º 
```
chmod +x script.sh
```
–∑–∞–ø—É—Å—Ç–∏—Ç—å
```
./script.sh
```
–≤—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –≤ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª
```
./script.sh > out_file.txt
```
<img width="642" height="130" alt="image" src="https://github.com/user-attachments/assets/7fb88b7d-3f09-44ab-a688-f37ad1de1f41" />



 ## –ó–∞–¥–∞–Ω–∏–µ 3. Docker
 –ó–∞–ø—É—Å–∫:
 ```
sudo docker-compose up -d
```
–ß—Ç–æ–±—ã nginx –∑–∞–ø—É—Å–∫–∞–ª—Å—è –ø–æ—Å–ª–µ php, –∏—Å–ø–æ–ª—å–∑—É—é depends_on.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ postgres –Ω–∞–¥–æ —É–∫–∞–∑–∞—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–∞—Ä–æ–ª—å –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–¥ (–≤ —Ñ–∞–π–ª–µ .env):
 ```
POSTGRES_PASSWORD=user1234
POSTGRES_USER=user
POSTGRES_DB=my-db
 ```
–ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥–ª–∏ "–≤–∏–¥–µ—Ç—å" –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —Å–æ–∑–¥–∞—é —Å–µ—Ç—å vita —Å —Ç–∏–ø–æ–º bridge. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç —Ö–æ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏.


<img width="640" height="136" alt="image" src="https://github.com/user-attachments/assets/9ca36c1b-449a-4a17-af8c-c386ede77240" />
<img width="1009" height="489" alt="image" src="https://github.com/user-attachments/assets/4f57d330-0171-410f-ab16-4484ebac9156" />


#### –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞, –µ—Å–ª–∏ —Ñ–∞–π–ª default.conf –≤ —Å–∏—Å—Ç–µ–º–µ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è, –∏–∑–º–µ–Ω–∏—Ç—Å—è –ª–∏ –æ–Ω  –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ç–æ–∂–µ? –ù—É–∂–µ–Ω —Ä–µ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ default.conf ? 
 ```
sudo docker-compose up -d #–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
 ```
–î–∞, –ø–æ–º–µ–Ω—è–µ—Ç—Å—è. –ü—É—Ç—å –Ω–∞ —Ö–æ—Å—Ç–æ–≤–æ–π –º–∞—à–∏–Ω–µ "–ø—Ä–∏–≤—è–∑–∞–Ω" –∫ –ø—É—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ –Ω–∞ —Ö–æ—Å—Ç–µ –æ—Ç—Ä–∞–∑—è—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ –Ω–∞–æ–±—Ä–æ—Ç, –ø–æ—ç–æ—Ç–º—É —Ä–µ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ default.conf –Ω–µ –Ω—É–∂–µ–Ω.
 ```
./default_nginx.conf:/etc/nginx/nginx.conf
 ```
#### –ê –µ—Å–ª–∏ –≤ docker-compose –≤–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è ? 
–†–µ—Å—Ç–∞—Ä—Ç –Ω—É–∂–µ–Ω, –ø–æ—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ docker-compose.yaml –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—é—Ç –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.
#### –ß—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ docker-compose –∏–ª–∏ docker-swarm ? 
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –Ω–æ–¥–∞—Ö (–¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏) —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docker swarm, –µ—Å–ª–∏ —ç—Ç–æ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç–æ docker-compose –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.


